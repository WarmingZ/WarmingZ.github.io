---
title: –ë–∞–∑–∏ –¥–∞–Ω–∏—Ö –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—ñ–≤ - –ß–∞—Å—Ç–∏–Ω–∞ 2üóÇÔ∏è
layout: post
subtitle: –†–æ–∑–≥–ª—è–¥–∞—î–º–æ –ø—Ä–æ—Å—Ç—ñ —Ç–∞ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
date: '2021-12-02 17:10:39'
background: "/img/AmAZUHZ.webp"
categories: SQL Tech Translated
lang: ua
lang-ref: sql2
image: /img/posts/Database/imageDatabase.jpg
description: –†–æ–∑–≥–ª—è–¥–∞—î–º–æ –ø—Ä–æ—Å—Ç—ñ —Ç–∞ –∞–≥—Ä–µ–≥–∞—Ç–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
---
–í –º–∏–Ω—É–ª–æ–º—É –ø–æ—Å—Ç—ñ —è –æ–ø–∏—Å—É–≤–∞–≤ —Ä–æ–±–æ—Ç—É –ø—Ä–æ—Å—Ç–∏—Ö —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –°–£–ë–î. –¢–∞–∫–æ–∂ –±—É–ª–æ –æ–ø–∏—Å–∞–Ω–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –Ω–∞–±—ñ—Ä —Ç–µ–æ—Ä—ñ—ó –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è, –∑ —á–∏–º –º–∏ –º–∞—î–º–æ —Å–ø—Ä–∞–≤—É. –†–æ–∑–≥–ª—è–Ω—É–ª–∏ –ø—Ä–æ—Å—Ç—ñ SELECT –∑–∞–ø–∏—Ç–∏ –¥–µ –º–∏ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞–ª–∏ –¥–∞–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é WHERE. –í —Ü—å–æ–º—É –ø–æ—Å—Ç—ñ —è —Ö–æ—Ç—ñ–≤ –±–∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–∏—Ö —Ç–∞ –∞–≥—Ä–µ–≥–æ–≤–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π, –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑‚Äô—î–¥–Ω–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –≤–∏–±—ñ—Ä–æ–∫ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—ñ —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –π –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –≤–∏–±—ñ—Ä–∫–∏. –ú–æ–∂–ª–∏–≤–æ –∑–∞—Ä–∞–∑ –≤–∞–º –∑–¥–∞—î—Ç—å—Å—è —â–æ –≤—Å–µ –¥—É–∂–µ –ª–µ–≥–∫–æ, –∞–ª–µ —Ç–∞–∫ –≤–æ–Ω–æ —ñ —î. –©–æ –ø—Ä–∞–≤–¥–∞ –º–∏ —â–µ –Ω–µ –≤–Ω–æ—Å–∏–ª–∏ –Ω—ñ—è–∫–∏—Ö –∑–º—ñ–Ω –≤ –Ω–∞—à—ñ —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∏ –Ω–æ–≤—ñ, –∞–ª–µ —Ü–µ –ø–æ–∫–∏ —â–æüòä. 

***

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

–í –ø–µ—Ä—à—É —á–µ—Ä–≥—É —Ö–æ—Ç—ñ–ª–æ—Å—å –±–∏ —Å–∫–∞–∑–∞—Ç–∏ —â–æ –≤ SQL –±–∞–≥–∞—Ç–æ –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å. –Ø –± —Ö–æ—Ç—ñ–≤ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ —Å–∞–º—ñ –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó. –¢–∞–∫–æ–∂, —è–∫—â–æ –≤–∞–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ —è–∫–∏–π —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π –∑–∞–ø–∏—Ç —ñ –≤–∞–º –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î —Ñ—É–Ω–∫—Ü—ñ–π, —è–∫—ñ –±—É–¥—É—Ç—å —Ä–æ–∑–≥–ª—è–Ω—É—Ç—ñ –≤ —Ü—ñ–π —Å—Ç–∞—Ç—Ç—ñ, –≤–∏ –∑–∞–≤–∂–¥–∏ –º–æ–∂–µ—Ç–µ –≤—ñ–¥–≤—ñ–¥–∞—Ç–∏ –æ—Ñ—ñ—Ü—ñ–π–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é.
–¢–∞–∫–æ–∂, –æ—Å–∫—ñ–ª—å–∫–∏ –º–æ–∂–Ω–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ –¥—É–∂–µ –±–∞–≥–∞—Ç–æ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤, —è –æ–±—Ä–∞–≤ –ª–∏—à–µ —Å–∞–º—ñ —Ü—ñ–∫–∞–≤—ñ –Ω–∞ –º–æ—é –¥—É–º–∫—É, –¥–ª—è —Ç–æ–≥–æ, —â–æ–± —Ä—É—Ö–∞—Ç–∏—Å—å —à–≤–∏–¥—à–µ —ñ –Ω–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –∑–∞–π–≤–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î. –ú–æ–∂–ª–∏–≤–æ –≤ –º–Ω–µ –ø–æ–∫–∏ —â–æ –Ω–µ –≤–∏—Ö–æ–¥–∏—Ç—å –ø–∏—Å–∞—Ç–∏ –∫–æ—Ä–æ—Ç–∫–æ —ñ –ª–æ–∫–∞–Ω—ñ—á–Ω–æ, –∞–ª–µ –≤—á—É—Å—èüôÑ.

#### –§—É–Ω–∫—Ü—ñ—è `IF`

–û—Ç–∂–µ, –≤ —Ç–∞–±–ª–∏—Ü—ñ `discussion_group` –º–∏ –º–∞—î–º–æ –∫–æ–º—ñ—Ä–∫—É `approve_required`, –≤ —è–∫—ñ–π –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø—Ä–æ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –≤ –≤–∏–≥–ª—è–¥—ñ –Ω—É–ª—ñ–≤ —Ç–∞ –æ–¥–∏–Ω–∏—Ü—å. –Ü –Ω–∞–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–≤–µ—Å—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –î–ª—è —Ü—å–æ–≥–æ –º–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä `if`. <br>
{% highlight sql %}
select if(approve_required, 'required', ''), 
approve_required from discussion_group;
{% endhighlight %}
–û—Å—å —Ç–∞–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∏ –æ—Ç—Ä–∏–º–∞–ª–∏:

 | if(approve_required, 'required', '') | approve_required from |
 |:------------------------------------:|-----------------------|
 | required                             | 1                     |
 |                                      | 0                     |
 | required                             | 1                     |
 | required                             | 1                     |
 |                                      | 0                     |
 {: .table }

 –ú–∏ –±–∞—á–∏–º–æ, —â–æ –≤ –Ω–∞–∑–≤—ñ –∫–æ–ª–æ–Ω–∫–∏ –≤–∏–≤–æ–¥–∏—Ç—å—Å—è –Ω–∞—à–∞ —Ñ—É–Ω–∫—Ü—ñ—è. –ú–∏ —Ü–µ –º–æ–∂–µ–º–æ –∑–º—ñ–Ω–∏—Ç–∏ –¥–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –≤–∏–≥–ª—è–¥—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–ø–µ—Ä–∞—Ç–æ—Ä `as`. 

 –¢–∞–∫–æ–∂, –≤ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –ø—Ä–∏–∫–ª–∞–¥–Ω—ñ –º–∏ –ø–µ—Ä–µ–π–¥–µ–º–æ –≤ –∫–æ–ª–æ–Ω–∫—É `disscusion_group`, –¥–µ –±—É–¥–µ–º–æ –≤–∏–∑–Ω–∞—á–∞—Ç–∏ —Å—Ç–∞—Ä—ñ —Ç–∞ –Ω–æ–≤—ñ –≥—Ä—É–ø–∏. –ó–∞–ø–∏—Ç –±—É–¥–µ –≤–∏–≥–ª—è–¥–∞—Ç–∏ —Ç–∞–∫: <br>

{% highlight sql %}
 select group_id as ID , creation_time as CreationData ,
  if(creation_time > '2020-01-01', 'new', 'old')
  as Type from discussion_group;
{% endhighlight %}

–Ø–∫—â–æ –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±—ñ–ª—å—à–∞ –Ω—ñ–∂ `2020.01.01` —Ü–µ –Ω–æ–≤—ñ, –≤ –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É ‚Äî —Å—Ç–∞—Ä—ñ. –û—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

 | ID     |     CreationData    | Type |
 |--------|:-------------------:|:----:|
 | 570779 | 2018-12-21 00:39:04 |  old |
 | 570890 | 2019-12-25 00:40:09 |  old |
 | 570853 | 2019-12-29 00:39:04 |  old |
 | 570863 | 2020-05-17 00:39:05 |  new |
 | 570922 | 2021-01-13 00:39:04 |  new |
 | 570888 | 2021-03-02 00:39:04 |  new |
 {: .table .table-responsive}

#### –§—É–Ω–∫—Ü—ñ—è `COALESCE`

 –£ –º–æ–≤—ñ SQL —î —Ç–∞–∫—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫ `COALESCE` —Ç–∞ `ISNULL`, —è–∫—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –≤—Ö—ñ–¥–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ `NULL`.

 –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —Ç–∞–±–ª–∏—Ü—ñ `user_private_message`, —è–∫—ñ –±—É–ª–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω—ñ –ø—ñ—Å–ª—è –ø–µ–≤–Ω–æ—ó –¥–∞—Ç–∏. –ê–ª–µ –Ω–µ —É –≤—Å—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —î –¥–∞—Ç–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—è, —Ç–æ –º–∏ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–∞—Ç—É –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è —â–µ –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —ñ –±—É–¥–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü—é –¥–∞—Ç—É –≤ —É–º–æ–≤—ñ. –¢—É—Ç –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `coalesce` –≤ —É–º–æ–≤–∞—Ö `where`.

{% highlight sql %}
 Select message_id, user_from_id,
  user_to_id from user_private_message
  where coalesce(read_time, send_time) > '2020-10-20';
{% endhighlight %}
–û—Å—å —è–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –º–∏ –æ—Ç—Ä–∏–º–∞–ª–∏:

  | message_id | user_from_id | user_to_id |
  |:-------:|:----:|:-----:|
  | 6521171 | 8425 |  7838 |
  | 6521181 | 8144 |  8328 |
  | 6521186 | 7614 |  7720 |
  | 6521190 | 7960 |  7817 |
  | 6521200 | 7683 |  8163 |
  | 6521207 | 7490 |  8533 |
  {: .table .table-responsive}

#### –§—É–Ω–∫—Ü—ñ—è `CONCAT`

 –î–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–æ–ø–æ–º–∞–≥–∞—î —Å–∫–ª–µ—é–≤–∞—Ç–∏ —Å—Ç—Ä–æ–∫–∏. –î–ª—è –ø—Ä–∏–∫–ª–∞–¥—É –º–∏ –º–æ–∂–µ–º–æ —Å–∫–ª–µ—ó—Ç–∏ —Å—Ç—Ä—ñ—á–∫—É `firstname` I `lastname`. 